<div class="container-fluid p-0">
    <div class="row">
        <div class="col-12 col-lg-9 p-0">
            <div class="video-player-wrapper mb-5">

                <vg-player (onPlayerReady)="videoPlayerInit($event)">
                    <vg-overlay-play></vg-overlay-play>
                    <vg-buffering vgFor="singleVideo"></vg-buffering>

                    <vg-scrub-bar>
                        <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
                        <vg-scrub-bar-buffering-time></vg-scrub-bar-buffering-time>
                    </vg-scrub-bar>

                    <vg-controls>
                        <vg-play-pause></vg-play-pause>
                        <vg-playback-button></vg-playback-button>
                        <vg-time-display vgProperty="current" vgFormat="mm:ss"></vg-time-display>
                        <vg-time-display vgProperty="total" vgFormat="mm:ss"></vg-time-display>
                        <vg-mute></vg-mute>
                        <vg-volume></vg-volume>

                        <vg-fullscreen></vg-fullscreen>
                    </vg-controls>

                    <video #media [vgMedia]="$any(media)" [src]="currentVideo.src" media id="singleVideo" preload="auto" crossorigin>
                  </video>
                </vg-player>


            </div>
        </div>

        <div class="col-12 col-lg-3 p-0">
            <h6 class="p-1 p-lg-2 text-center"> <strong> Contenido del curso </strong></h6>

            <div class="row scroll">

                <div class="accordion accordion-flush " id="accordionVideosSap">

                    <div class="accordion-item" *ngFor="let seccion of secciones; let i = index">
                        <h3 class="accordion-header">

                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" attr.data-bs-target="#collapse_{{i}}" aria-expanded="true">

                            <strong> Sección {{i+1}}: {{ seccion.name}}</strong>    
                        </button>
                        </h3>

                        <div *ngIf="idVideo == i + 1" id="collapse_{{i}}" class="accordion-collapse show" data-bs-parent="#accordionVideosSap">
                            <div class="accordion-body">
                                <ul class="player-list">

                                    <li class="btn-color" *ngFor="let vdo of seccion.videos; let $index = index" (click)="startPlaylistVdo(vdo, $index)" [class.selected]="vdo === currentVideo">
                                        {{ vdo.name }}
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div *ngIf="idVideo != i + 1" id="collapse_{{i}}" class="accordion-collapse collapse" data-bs-parent="#accordionVideosSap">
                            <div class="accordion-body">
                                <ul class="player-list">
                                    <li class="btn-color" *ngFor="let vdo of seccion.videos; let $index = index" (click)="startPlaylistVdo(vdo, $index)" [class.selected]="vdo === currentVideo">
                                        {{ vdo.name }}
                                    </li>
                                </ul>
                            </div>
                        </div>


                    </div>

                </div>
            </div>

        </div>
    </div>
</div>

<!-- <div class="container-fluid pb-4">
    <div class="row text-center">
        <div class="col-12">
            <button type="button" (click)="cargarVideos(1)" class="btn btn-outline-primary btn-lg me-4">Compras</button>
            <button type="button" (click)="cargarVideos(2)" class="btn btn-outline-primary btn-lg me-4">Finanzas</button>
            <button type="button" (click)="cargarVideos(3)" class="btn btn-outline-primary btn-lg me-4">Inventario</button>
            <button type="button" (click)="cargarVideos(4)" class="btn btn-outline-primary btn-lg me-4">Producción</button>
            <button type="button" (click)="cargarVideos(5)" class="btn btn-outline-primary btn-lg me-4">Ventas</button>
        </div>
    </div>
</div> -->

<!-- <h6 class="p-1 p-lg-2"> <strong>Módulo {{ titulo }} </strong></h6>
            <ul class="player-list">
                <li *ngFor="let vdo of videoItems; let $index = index" (click)="startPlaylistVdo(vdo, $index)" [class.selected]="vdo === currentVideo">
                    {{ vdo.name }}
                </li>
            </ul> -->